<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="
  http://www.springframework.org/schema/beans
  http://www.springframework.org/schema/beans/spring-beans.xsd
  http://www.springframework.org/schema/context
  http://www.springframework.org/schema/context/spring-context.xsd">

	<!-- 
		Configure the users properties, forms and tables 
	-->
	<bean id="org.olat.user.UserPropertiesConfig" class="org.olat.user.propertyhandlers.UserPropertiesConfigImpl" init-method="init">
		<property name="maxNumOfInterests" value="${user.interests.max.number:5}" />
		<property name="userPropertyHandlers">
			<list>
				<ref bean="userPropertyFirstName" />
				<ref bean="userPropertyLastName" />
				<ref bean="userPropertyEmail" />
				<ref bean="userPropertyEmailChangedKey" />
				<ref bean="userPropertyEmailDisabled" />
				<ref bean="userPropertyBirthDay" />
				<ref bean="userPropertyGender" />
				<ref bean="userPropertyTelPrivate" />
				<ref bean="userPropertyTelMobile" />
				<ref bean="userPropertySmsTelMobile" />
				<ref bean="userPropertyTelOffice" />
				<ref bean="userPropertySkype" />
				<ref bean="userPropertyHomepage" />
				<ref bean="userPropertyStreet" />
				<ref bean="userPropertyExtendedAddress" />
				<ref bean="userPropertyPoBox" />
				<ref bean="userPropertyZipCode" />
				<ref bean="userPropertyRegion" />
				<ref bean="userPropertyCity" />
				<ref bean="userPropertyCountry" />
				<ref bean="userPropertyInstitutionalName" />
				<ref bean="userPropertyInstitutionalUserIdentifier" />
				<ref bean="userPropertyInstitutionalEmployeeNumber" />
				<ref bean="userPropertyInstitutionalMatriculationNumber" />
				<ref bean="userPropertyInstitutionalEmail" />
				<ref bean="userPropertyOrgUnit" />
				<ref bean="userPropertyStudySubject" />
				<ref bean="userPropertyGenericYear" />
				<ref bean="userPropertyTypeOfUser" />
				<ref bean="userPropertySocialSecurityNumber" />

				<ref bean="userPropertyRank" />
			  	<ref bean="userPropertyDegree" />
				<ref bean="userPropertyPosition" />
				<ref bean="userPropertyUserInterests" />
				<ref bean="userPropertyUserSearchedInterests" />
				<ref bean="userPropertyDepartment" />
				<ref bean="userPropertyOfficeStreet" />
				<ref bean="userPropertyExtendedOfficeAddress" />
				<ref bean="userPropertyOfficeZipCode" />
				<ref bean="userPropertyOfficeCity" />
				<ref bean="userPropertyOfficeCountry" />
				<ref bean="userPropertyOfficeMobilePhone" />

				<ref bean="userPropertyGenericText" />
				<ref bean="userPropertyGenericText2" />
				<ref bean="userPropertyGenericText3" />
				<ref bean="userPropertyGenericText4" />
				<ref bean="userPropertyGenericText5" />

				<ref bean="userPropertyGenericUniqueText" />
				<ref bean="userPropertyGenericUniqueText2" />
				<ref bean="userPropertyGenericUniqueText3" />

				<ref bean="userPropertyGenericEmail" />

				<ref bean="userPropertyGenericCheckbox" />
				<ref bean="userPropertyGenericCheckbox2" />
				<ref bean="userPropertyGenericCheckbox3" />

				<ref bean="userPropertyGenericSelect" />
				<ref bean="userPropertyGenericSelect2" />
				<ref bean="userPropertyGenericSelect3" />

				<ref bean="userPropertyCreationDateDisplay" />
				<ref bean="userPropertylastLoginDateDisplay" />

				<!-- usertracking attributes -->
				<ref bean="usertrackingAttrEduPersonAffiliation" />
				<ref bean="usertrackingAttrSwissEduHomeOrganisation" />
				<ref bean="usertrackingAttrSwissEduPersonStudyLevel" />
				<ref bean="usertrackingAttrSwissEduPersonHomeOrganisationType" />
				<ref bean="usertrackingAttrEmployeeNumber" />
				<ref bean="usertrackingAttrMatriculationNumber" />
				<ref bean="usertrackingAttrSwissEduPersonStaffCategory" />
				<ref bean="usertrackingAttrOrganizationalUnit" />
				<ref bean="usertrackingAttrSwissEduPersonStudyBranch1" />
				<ref bean="usertrackingAttrSwissEduPersonStudyBranch2" />
				<ref bean="usertrackingAttrSwissEduPersonStudyBranch3" />
				<ref bean="usertrackingLanguage" />
				<ref bean="usertrackingWebDAV" />
			</list>
		</property>
		
		<property name="userPropertyUsageContexts">
			<map>
			
				<!-- 
					Forms that show user properties
				-->
				<entry key="org.olat.user.ProfileFormController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Users Profile-Form (Home->Settings)" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyEmailDisabled" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
						<property name="userViewReadOnlyProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<!--
									only used by user admin to trigger user password change workflow at
									login, not visible for users when logged in
								-->
								<ref bean="userPropertyEmailDisabled" />
							</set>
						</property>
					</bean>
				</entry>

				<!-- 
					Indexed for fulltext search (only the fields that a user selects to publish are indexed)
				-->
				<entry key="org.olat.search.service.document.IdentityDocument">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyEmailDisabled" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.admin.user.UserSearchForm">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
						<!--  the login field is always available, this is
						defined within the UserSearchform.java -->
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
							</list>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<!-- (UZH Note) may contain matrikel number, an information
								which should not be revealed by a search. -->
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
							</set>						
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.course.member.MemberSearchForm">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
							</list>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
							</set>						
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.course.nodes.pf.ui.PFCoachController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyUserName" />
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalUserIdentifier" />
								<ref bean="userPropertyInstitutionalEmail" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyUserName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalUserIdentifier" />
								<ref bean="userPropertyInstitutionalEmail" />
							</set>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.course.member.MemberListController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
							</list>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
							</set>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
                                <ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
							</set>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.modules.fo.ui.ForumUserListController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</list>
						</property>
						<property name="adminViewOnlyProperties">
							<set/>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.group.ui.main.MemberInfoController">
					<!-- First name and last name are already shown -->
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
							</list>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.resource.accesscontrol.ui.OrdersAdminController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Booking list" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyInstitutionalUserIdentifier" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyInstitutionalUserIdentifier" />
							</set>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.course.nodes.cl.ui.CheckListAssessmentController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Table for check lists" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
							</set>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.course.nodes.gta.ui.GTACoachedGroupGradingController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Assessment table in the group task." />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
							</set>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.course.nodes.members.MembersCourseNodeRunController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Print view in the members course element." />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								
							</list>
						</property>
						<property name="adminViewOnlyProperties">
							<set></set>						
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.ims.qti.export.QTIExportFormatterCSVType1">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Columns in download file of QTI assessment results in courses" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyUserName" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
							</list>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.admin.user.UsermanagerUserSearchForm">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
					</bean>
				</entry>

				<!--  NewUserForm is used in the user management environment -->
				<entry key="org.olat.admin.user.NewUserForm">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
					</bean>
				</entry>

				<!--  RegistrationForm2 is used in the self registration process -->
				<entry key="org.olat.registration.RegistrationForm2">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<!--  
									don't add email as form elemente here, email is already 
									collected in the previous step of the registration workflow 
								-->
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>
					</bean>
				</entry>

				
				<!-- 
					Tables that show user properties
				-->
				<entry key="org.olat.admin.user.UserTableDataModel">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
							</set>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.admin.user.delete.UserDeleteTableModel">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
							    	<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyEmail" />								
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
							    	<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>						
					</bean>
				</entry>

				<entry key="org.olat.admin.user.ExtendedIdentitiesTableDataModel">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
							</set>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.admin.securitygroup.gui.IdentitiesOfGroupTableDataModel">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
							</set>
						</property>
					</bean>
				</entry>

				<!--
					Other places where user properties are used
				-->
				<entry key="org.olat.user.HomePageConfig">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Visiting card" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
					</bean>
				</entry>
				
				
				<entry key="org.olat.course.archiver.ScoreAccountingHelper">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
                                <ref bean="userPropertyUserName" />
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.course.assessment.EfficiencyStatementArchiver">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.course.assessment.EfficiencyStatementController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
					<property name="description" value="Efficiency-Statements" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />	
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />						
							</list>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.group.BusinessGroupArchiver">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.group.ui.wizard.MemberListWizardController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>						
					</bean>
				</entry>
				
				<entry key="de.bps.olat.modules.cl.ChecklistManageCheckpointsController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="List of users in the check list course building block" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
                                                                <ref bean="userPropertyInstitutionalMatriculationNumber" />
							</list>
						</property>	
						<property name="userViewReadOnlyProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
                                                                <ref bean="userPropertyInstitutionalMatriculationNumber" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
                                                                <ref bean="userPropertyInstitutionalMatriculationNumber" />
							</set>
						</property>					
					</bean>
				</entry>
				
				<entry key="org.olat.admin.user.UserShortDescription">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Short description of a user" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />								
							</list>
						</property>						
					</bean>
				</entry>


				<entry key="org.olat.admin.user.imp.UserImportController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Userimport wizard" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />								
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
					</bean>
				</entry>				
				
				<entry key="org.olat.course.assessment.AssessedIdentitiesTableDataModel">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Assessment tool" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</set>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.modules.coach.ui.UserListController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Coaching tool" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</set>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.course.assessment.ui.tool.AssessmentToReviewSmallController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Small preview in assessment tool" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyFirstName" />
							</list>
						</property>		
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>				
					</bean>
				</entry>
				
				<entry key="org.olat.admin.user.bulkChange.UserBulkChangeStep00">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />												
							</list>
						</property>						
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
					</bean>
				</entry>				
				
				<!-- the property handler list is limited to 12 entries -->
				<!-- in this case the key doesn't represent a class  -->
				<entry key="userPropertyLogConfiguration">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<!-- the shibb attribs for usertracking -->
								<ref bean="usertrackingAttrEduPersonAffiliation" />
								<ref bean="usertrackingAttrSwissEduHomeOrganisation" />
								<ref bean="usertrackingAttrSwissEduPersonStudyLevel" />
								<ref bean="usertrackingAttrSwissEduPersonHomeOrganisationType" />
								<ref bean="usertrackingAttrMatriculationNumber" />
								<ref bean="usertrackingAttrSwissEduPersonStaffCategory" />
								<ref bean="usertrackingAttrOrganizationalUnit" />
								<ref bean="usertrackingAttrSwissEduPersonStudyBranch1" />
								<ref bean="usertrackingAttrSwissEduPersonStudyBranch2" />
								<ref bean="usertrackingAttrSwissEduPersonStudyBranch3" />
								<ref bean="usertrackingLanguage" />
								<ref bean="usertrackingWebDAV" />
							</list>
						</property>						
					</bean>
				</entry>
				
				<entry key="org.olat.user.restapi.UserWebService">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyEmailDisabled" />
								<ref bean="userPropertyBirthDay" />
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyTelPrivate" />
								<ref bean="userPropertyTelMobile" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertySkype" />
								<ref bean="userPropertyHomepage" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyEmail" />
							</set>
						</property>
						<property name="userViewReadOnlyProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
								<ref bean="userPropertyInstitutionalMatriculationNumber" />
								<!--
									only used by user admin to trigger user password change workflow at
									login, not visible for users when logged in
								-->
								<ref bean="userPropertyEmailDisabled" />
							</set>
						</property>
					</bean>
				</entry>
				
				<entry key="org.olat.ims.lti.LTIManager">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Can be used for LTI" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmail" />						
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>
					</bean>
				</entry>
				
				<!-- User properties used for group-mail-function -->
				<entry key="org.olat.group.ui.run.BusinessGroupSendToChooserForm">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value=" " />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyLastName" />														
								<ref bean="userPropertyFirstName" />
							</list>
						</property>						
					</bean>
				</entry>	
				
				
				<!-- User properties used in Businesscards (mitgleidersite) -->
				<entry key="com.frentix.olat.user.UserBusinessCardController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="BusinessCards in Membersite" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />	
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyTelOffice" />
								<ref bean="userPropertyEmail" />										
							</list>
						</property>						
					</bean>
				</entry>	
				
				<!-- User properties used for the mail-footer line together with i18nkey: "footer.with.userdata" -->
				<entry key="org.olat.core.util.mail.MailHelper">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Properties used for the mail footer for emails sent from this system. Configure i18nkey: 'footer.with.userdata' accordingly. " />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />	
								<ref bean="userPropertyInstitutionalName" />
							</list>
						</property>						
					</bean>
				</entry>			

				<!-- User properties used for the mail-notifications line together with i18nkey: "user.formatted" -->
				<entry key="org.olat.core.commons.services.notifications.NotificationHelper">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Properties used for the notification emails sent from this system. Configure i18nkey: 'user.formatted' accordingly. " />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />	
							</list>
						</property>						
					</bean>
				</entry>
				
				<entry key="org.olat.admin.landingpages.LandingPagesModule">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Properties used in the administration of landing pages. " />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyGender" />
								<ref bean="userPropertyStreet" />
								<ref bean="userPropertyExtendedAddress" />
								<ref bean="userPropertyPoBox" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
                                                                <ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>						
					</bean>
				</entry>
				
				<entry key="org.olat.modules.coach.ui.UserSearchForm">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Properties used in the user search of the coaching tool." />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />	
								<ref bean="userPropertyEmail" />
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
                                                                <ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>						
					</bean>
				</entry>

				<entry key="org.olat.modules.portfolio.ui.PortfolioHomeController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Properties used in the portfolio v2.0." />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set></set>
						</property>
					</bean>
				</entry>

				<entry key="org.olat.modules.reminder.rule.UserPropertyRuleSPI">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Properties used in the reminder rules." />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyZipCode" />
								<ref bean="userPropertyRegion" />
								<ref bean="userPropertyCity" />
								<ref bean="userPropertyCountry" />
								<ref bean="userPropertyInstitutionalName" />
								<ref bean="userPropertyInstitutionalEmployeeNumber" />
                                                                <ref bean="userPropertyInstitutionalMatriculationNumber" />
								<ref bean="userPropertyInstitutionalEmail" />
								<ref bean="userPropertyOrgUnit" />
								<ref bean="userPropertyStudySubject" />
							</list>
						</property>						
					</bean>
				</entry>
				
				<entry key="org.olat.course.reminder.ui.CourseSendReminderListController">
					<bean class="org.olat.user.propertyhandlers.UserPropertyUsageContext">
						<property name="description" value="Properties used in the send reminder list" />
						<property name="propertyHandlers">
							<list>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</list>
						</property>
						<property name="mandatoryProperties">
							<set>
								<ref bean="userPropertyFirstName" />
								<ref bean="userPropertyLastName" />
							</set>
						</property>
						<property name="adminViewOnlyProperties">
							<set>
							</set>
						</property>
					</bean>
				</entry>

			</map>
		</property>
		
	</bean>
</beans>
